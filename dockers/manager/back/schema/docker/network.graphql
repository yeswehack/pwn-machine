extend type Query {
  dockerNetworks: [DockerNetwork!]!
}

type DockerNetworkConnection {
  ipv4Address: String
  ipv6Address: String
  container: DockerContainer!
}

type DockerNetwork {
  id: ID!
  name: String!
  labels: [KeyValue!]!
  created: DateTime!
  ipv6: Boolean!
  driver: String!
  internal: Boolean!
  builtin: Boolean!
  ipams: [DockerNetworkIpam!]!
  connections: [DockerNetworkConnection!]!
}

extend type Mutation {
  dockerCreateNetwork(
    name: String!
    labels: [KeyValueInput!]! = []
    ipv6: Boolean = false
    driver: String! = "bridge"
    internal: Boolean = false
    ipam: DockerNetworkIpamInput
  ): DockerNetwork
}

type DockerNetworkIpam {
  subnet: String!
  ipRange: String
  gateway: String
}

input DockerNetworkIpamInput {
  subnet: String
  ipRange: String
  gateway: String
}

extend type Mutation {
  dockerConnectContainerToNetwork(
    input: dockerConnectContainerNetworkInput
  ): Boolean!
  dockerDisconnectContainerFromNetwork(
    input: dockerConnectContainerNetworkInput
  ): Boolean!
}

input dockerConnectContainerNetworkInput {
  containerId: ID!
  networkId: ID!
}

extend type Mutation {
  dockerRemoveNetwork(id: ID!): Boolean!
  dockerPruneNetworks: Boolean!
}
